@prefix map: <#>.
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> . 
@prefix skos: <http://www.w3.org/2004/02/skos/core#> . 
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> . 
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix eli: <http://data.europa.eu/eli/ontology#> .
@prefix codex: <https://data.vlaanderen.be/ns/wetgeving#> .
@prefix adms: <http://www.w3.org/ns/adms#> .

#Onderdeel 1: Mapping van Rechtsbron
#Onderdeel 1.1: Mappings van RechtsbronDocument met attributen

map:RechtsbronDocument
	rr:logicalTable [ rr:sqlQuery """
		SELECT	URLpart1,
				ID,
				datumDocumentJaar,
				datumDocumentMaand,
				datumDocumentDag,
				typeDocumentURI,
				RGDID,
				datumDocumentdatum
		FROM vwRegelgevendDocDocument WITH ( NOEXPAND )
	""" 
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:first_date_entry_in_force; 
		rr:objectMap [rr:column '"inwerkingtreding"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:date_no_longer_in_force; 
		rr:objectMap [rr:column '"buitenwerkingtreding"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:date_document; 
		rr:objectMap [rr:column '"datumDocumentdatum"'];
	];
	rr:predicateObjectMap [
		rr:predicate eli:is_realized_by; #is gerealiseerd door
		rr:objectMap [
			rr:parentTriplesMap map:VerschijningsvormDocument; 
			rr:joinCondition [
				rr:child 'RGDID';
				rr:parent 'ID';
			]
		]
	].

map:RechtsbronDocumentType
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	vwRegelgevendDocDocument.URLpart1,
				vwRegelgevendDocDocument.ID,
				vwRegelgevendDocDocument.datumDocumentJaar,
				vwRegelgevendDocDocument.datumDocumentMaand,
				vwRegelgevendDocDocument.datumDocumentDag,
				vwRegelgevendDocDocument.typeDocumentURI,
				(CASE  
					WHEN 
					DocumentType.Omschrijving in (
						'Besluit van de secretaris-generaal' , 
						'Besluit van de administrateur-generaal' ,
						'Besluit van de voorzitter van het Eigen Vermogen' ,
						'Besluit van het afdelingshoofd',
						'Besluit van de algemeen directeur' ,
						'Besluit van de hoofddirecteur-hoofdconservator' ,
						'Besluit van de inspecteur-generaal' ,
						'Besluit van het diensthoofd',
						'Besluit van de directeur')
					THEN 'Besluit_van_een_ambtenaar'
					WHEN DocumentType.Omschrijving in (
						'''s Konings Verklaring' ,
						'Edict' ,
						'Keizerlijk Decreet' ,
						'Besluitwet',
						'Bijzondere Ordonnantie' ,
						'Besluit van de Regent' ,
						'Overeenkomst' ,
						'Besluit van de Raad van Bestuur' ,
						'Besluit van de gedelegeerd bestuurder' ,
						'Gezamenlijke bekendmaking van de gemeenschappelijke nautische autoriteit' ,
						'Gemeenschappelijke verklaring' ,
						'Huishoudelijk Reglement' ,
						'Besluit van het Politiek College van de Vlaams-Nederlandse Scheldecommissie')
					THEN 'Andere'
					WHEN DocumentType.Omschrijving = 'Besluit van de Vlaamse Regering' THEN 'BesluitVanDeVlaamseRegering'
					WHEN DocumentType.Omschrijving = 'Bijzonder Decreet' THEN 'BesluitVanDeVlaamseRegering'
					WHEN DocumentType.Omschrijving = 'Bijzondere Wet' THEN 'BijzondereWet'
					WHEN DocumentType.Omschrijving = 'Gecodificeerde decreten' THEN 'GecodificeerdeDecreten'
					WHEN DocumentType.Omschrijving = 'GecoÃ¶rdineerde wetten' THEN 'GecoordineerdeWetten'
					WHEN DocumentType.Omschrijving = 'Genummerd koninklijk besluit' THEN 'GenummerdKoninklijkBesluit'
					WHEN DocumentType.Omschrijving = 'Koninklijk Besluit' THEN 'KoninklijkBesluit'
					WHEN DocumentType.Omschrijving = 'Ministerieel besluit' THEN 'MinisterieelBesluit'
					ELSE DocumentType.Omschrijving
				END) AS typeDocument
		FROM WetgevingDocumentType AS DocumentType, vwRegelgevendDocDocument WITH ( NOEXPAND )
		WHERE vwRegelgevendDocDocument.TypeID = DocumentType.id
	""" 
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:type_document; 
		rr:objectMap [	rr:template 'https://data.vlaanderen.be/id/conceptscheme/AardWetgeving/{"typeDocument"}';
						rr:termType rr:IRI ];
	].

#-----------------------------------------
#Onderdeel 1.2: Mapping van RechtsbronHoofdstuk

map:RechtsbronHoofdstuk
	rr:logicalTable [ rr:sqlQuery """
		SELECT	Hoofdstuk.ID AS HoofdstukID,
				Hoofdstuk.WetgevingDocumentId AS VerbondenDocument
		FROM WetgevingHoofdstuk as Hoofdstuk
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/hoofdstuk/{"HoofdstukID"}'; 
		rr:class eli:LegalResourceSubdivision;
	];
	rr:predicateObjectMap [ 
		rr:predicate dcterms:type; 
		rr:objectMap [	rr:template 'https://data.vlaanderen.be/id/conceptscheme/TypeRechtsbrononderdeel/Hoofdstuk';
						rr:termType rr:IRI ];
	];
	rr:predicateObjectMap [
		rr:predicate eli:is_part_of; #is deel van
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'VerbondenDocument';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.3: Mapping van RechtsbronArtikel

map:RechtsbronArtikel
	rr:logicalTable [ rr:sqlQuery """
		SELECT	ArtikelVersie.WetgevingArtikelId AS ArtikelID,
				ArtikelVersie.ID AS VlacoID,
				ArtikelVersie.WetgevingDocumentId AS VerbondenDocument
		FROM WetgevingArtikelVersie as ArtikelVersie
		WHERE NOT ArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/artikel/{"ArtikelID"}'; 
		rr:class eli:LegalResourceSubdivision;
	];
	rr:predicateObjectMap [ 
		rr:predicate dcterms:type; 
		rr:objectMap [	rr:template 'https://data.vlaanderen.be/id/conceptscheme/TypeRechtsbrononderdeel/Artikel';
						rr:termType rr:IRI ];
	];
	rr:predicateObjectMap [
		rr:predicate eli:is_part_of; #is deel van
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'VerbondenDocument';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:is_realized_by; #is gerealiseerd door
		rr:objectMap [
			rr:parentTriplesMap map:VerschijningsvormArtikel; 
			rr:joinCondition [
				rr:child 'VlacoID';
				rr:parent 'ID';
				]
		]
	].

#-----------------------------------------
#Onderdeel 1.4: Mapping van RechtsbronBijlage

map:RechtsbronBijlage
	rr:logicalTable [ rr:sqlQuery """
		SELECT	ArtikelVersie.ID AS VlacoID,
				ArtikelVersie.WetgevingDocumentId AS VerbondenDocument
		FROM WetgevingArtikelVersie as ArtikelVersie
		WHERE ArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/bijlage/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision;
	];
	rr:predicateObjectMap [ 
		rr:predicate dcterms:type; 
		rr:objectMap [	rr:template 'https://data.vlaanderen.be/id/conceptscheme/TypeRechtsbrononderdeel/Bijlage';
						rr:termType rr:IRI ];
	];
	rr:predicateObjectMap [
		rr:predicate eli:is_part_of; #is deel van
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'VerbondenDocument';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:is_realized_by; #is gerealiseerd door
		rr:objectMap [
			rr:parentTriplesMap map:VerschijningsvormBijlage; 
			rr:joinCondition [
				rr:child 'VlacoID';
				rr:parent 'ID';
				]
		]
	].

#-----------------------------------------
#Onderdeel 1.5: Mappings van de Document -> Document relaties van Rechtsbron

map:RechtsbronDocumentDocumentRelaties
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	vwRegelgevendDocDocument.URLpart1,
				vwRegelgevendDocDocument.ID,
				vwRegelgevendDocDocument.datumDocumentJaar,
				vwRegelgevendDocDocument.datumDocumentMaand,
				vwRegelgevendDocDocument.datumDocumentDag,
				vwRegelgevendDocDocument.typeDocumentURI,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 1 THEN Document2.ID END ) AS wijzigt,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 2 THEN Document2.ID END ) AS heft_op,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 3 THEN Document2.ID END ) AS bekrachtigt,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 4 THEN Document2.ID END ) AS trekt_in,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 5 THEN Document2.ID END ) AS zie_ook,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 6 THEN Document2.ID END ) AS gewijzigd_bij,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 7 THEN Document2.ID END ) AS opgehoven_bij,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 8 THEN Document2.ID END ) AS bekrachtigd_bij,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 9 THEN Document2.ID END ) AS ingetrokken_bij
		FROM WetgevingDocument as Document2, WetgevingDocumentDocumentRelatie as DocumentDocumentRelatie, WetgevingDocumentDocumentRelatieType as DocumentDocumentRelatieType, vwRegelgevendDocDocument WITH ( NOEXPAND )
		WHERE DocumentDocumentRelatieType.Id = DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId
		AND vwRegelgevendDocDocument.RGDID = DocumentDocumentRelatie.WetgevingDocumentActiefId
		AND Document2.Id = DocumentDocumentRelatie.WetgevingDocumentPassiefId
	"""
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.5.1: Reverse mappings uit 1.5

map:RechtsbronDocumentDocumentRelatiesReverse
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	vwRegelgevendDocDocument.URLpart1,
				vwRegelgevendDocDocument.ID,
				vwRegelgevendDocDocument.datumDocumentJaar,
				vwRegelgevendDocDocument.datumDocumentMaand,
				vwRegelgevendDocDocument.datumDocumentDag,
				vwRegelgevendDocDocument.typeDocumentURI,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 1 THEN vwRegelgevendDocDocument.RGDID END ) AS gewijzigd_bij,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 2 THEN vwRegelgevendDocDocument.RGDID END ) AS opgeheven_bij,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 3 THEN vwRegelgevendDocDocument.RGDID END ) AS bekrachtigd_bij,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 4 THEN vwRegelgevendDocDocument.RGDID END ) AS ingetrokken_bij,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 5 THEN vwRegelgevendDocDocument.RGDID END ) AS zie_ook,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 6 THEN vwRegelgevendDocDocument.RGDID END ) AS wijzigt,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 7 THEN vwRegelgevendDocDocument.RGDID END ) AS heft_op,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 8 THEN vwRegelgevendDocDocument.RGDID END ) AS bekrachtigt,
				(CASE WHEN DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId = 9 THEN vwRegelgevendDocDocument.RGDID END ) AS trekt_in
		FROM WetgevingDocument as Document2, WetgevingDocumentDocumentRelatie as DocumentDocumentRelatie, WetgevingDocumentDocumentRelatieType as DocumentDocumentRelatieType, vwRegelgevendDocDocument WITH ( NOEXPAND )
		WHERE DocumentDocumentRelatieType.Id = DocumentDocumentRelatie.WetgevingDocumentDocumentRelatieTypeId
		AND vwRegelgevendDocDocument.RGDID = DocumentDocumentRelatie.WetgevingDocumentActiefId
		AND Document2.Id = DocumentDocumentRelatie.WetgevingDocumentPassiefId
	"""
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij (reverse van wijzigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij (reverse van heft op)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij (reverse van bekrachtigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij (reverse van trekt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook (reverse van zie ook (is identiek))
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt (reverse van gewijzigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op (reverse van opgeheven bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt (reverse van bekrachtigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in (reverse van ingetrokken bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.6: Mapping van de Document -> Hoofdstuk, Document -> Artikel en Document -> Bijlage 'Heeft Onderdeel' relaties van Rechtsbron(onderdelen)

map:RechtsbronDocumentHoofdstukRelatieHeeftOnderdeel
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	vwRegelgevendDocDocument.URLpart1,
				vwRegelgevendDocDocument.ID,
				vwRegelgevendDocDocument.datumDocumentJaar,
				vwRegelgevendDocDocument.datumDocumentMaand,
				vwRegelgevendDocDocument.datumDocumentDag,
				vwRegelgevendDocDocument.typeDocumentURI,
				Hoofdstuk.ID as HoofdstukID
		FROM WetgevingHoofdstuk as Hoofdstuk, vwRegelgevendDocDocument WITH ( NOEXPAND )
		WHERE vwRegelgevendDocDocument.ID = Hoofdstuk.WetgevingDocumentId
	""" 
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:has_part; #heeft onderdeel
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronHoofdstuk; 
			rr:joinCondition [
				rr:child 'HoofdstukID';
				rr:parent 'ID';
			]
		]
	].



map:RechtsbronDocumentArtikelRelatieHeeftOnderdeel
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	vwRegelgevendDocDocument.URLpart1,
				vwRegelgevendDocDocument.ID,
				vwRegelgevendDocDocument.datumDocumentJaar,
				vwRegelgevendDocDocument.datumDocumentMaand,
				vwRegelgevendDocDocument.datumDocumentDag,
				vwRegelgevendDocDocument.typeDocumentURI,
				ArtikelVersie.ID as ArtikelID
		FROM WetgevingArtikelVersie as ArtikelVersie, vwRegelgevendDocDocument WITH ( NOEXPAND )
		WHERE vwRegelgevendDocDocument.ID = ArtikelVersie.WetgevingDocumentId
		AND NOT ArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:has_part; #heeft onderdeel
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ArtikelID';
				rr:parent 'ID';
			]
		]
	].

map:RechtsbronDocumentBijlageRelatieHeeftOnderdeel
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	vwRegelgevendDocDocument.URLpart1,
				vwRegelgevendDocDocument.ID,
				vwRegelgevendDocDocument.datumDocumentJaar,
				vwRegelgevendDocDocument.datumDocumentMaand,
				vwRegelgevendDocDocument.datumDocumentDag,
				vwRegelgevendDocDocument.typeDocumentURI,
				ArtikelVersie.ID as ArtikelRelatie
		FROM WetgevingDocument as Document, WetgevingArtikelVersie as ArtikelVersie, vwRegelgevendDocDocument WITH ( NOEXPAND )
		WHERE vwRegelgevendDocDocument.ID = ArtikelVersie.WetgevingDocumentId
		AND ArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:has_part; #heeft onderdeel
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'ArtikelRelatie';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.7: Mappings van de Document -> Artikel relaties van Rechtsbron(onderdeel)

map:RechtsbronDocumentArtikelRelaties 
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	vwRegelgevendDocDocument.URLpart1,
				vwRegelgevendDocDocument.ID,
				vwRegelgevendDocDocument.datumDocumentJaar,
				vwRegelgevendDocDocument.datumDocumentMaand,
				vwRegelgevendDocDocument.datumDocumentDag,
				vwRegelgevendDocDocument.typeDocumentURI,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 1 THEN WetgevingArtikelVersie.ID END  AS wijzigt,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 2 THEN WetgevingArtikelVersie.ID END  AS heft_op,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 3 THEN WetgevingArtikelVersie.ID END  AS bekrachtigt,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 4 THEN WetgevingArtikelVersie.ID END  AS trekt_in,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 5 THEN WetgevingArtikelVersie.ID END  AS zie_ook,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 6 THEN WetgevingArtikelVersie.ID END  AS gewijzigd_bij,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 7 THEN WetgevingArtikelVersie.ID END  AS opgeheven_bij,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 8 THEN WetgevingArtikelVersie.ID END  AS bekrachtigd_bij,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 9 THEN WetgevingArtikelVersie.ID END  AS ingetrokken_bij
		FROM WetgevingDocumentArtikelVersieRelatie AS DocumentArtikelRelatie, WetgevingDocumentArtikelVersieRelatieType as DocumentArtikelRelatieType, WetgevingArtikelVersie, vwRegelgevendDocDocument WITH ( NOEXPAND )
		WHERE DocumentArtikelRelatieType.Id = DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId
		AND WetgevingArtikelVersie.id = DocumentArtikelRelatie.WetgevingArtikelVersieId
		AND vwRegelgevendDocDocument.ID = DocumentArtikelRelatie.WetgevingDocumentId
		AND NOT WetgevingArtikelVersie.ArtikelType = 'BIJLAGE'
	"""
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.7.1: Mappings van de Artikel -> Document relaties van Rechtsbron(onderdeel) (Reverse mappings uit 1.7)

map:RechtsbronDocumentArtikelRelatiesReverse 
	rr:logicalTable [ rr:sqlQuery """
		SELECT	WetgevingArtikelVersie.ID AS VlacoID,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 1 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS gewijzigd_bij,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 2 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS opgeheven_bij,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 3 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS bekrachtigd_bij,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 4 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS ingetrokken_bij,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 5 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS zie_ook,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 6 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS wijzigt,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 7 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS heft_op,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 8 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS bekrachtigt,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 9 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS trekt_in
		FROM WetgevingDocument as Document, WetgevingDocumentArtikelVersieRelatie AS DocumentArtikelRelatie, WetgevingDocumentArtikelVersieRelatieType as DocumentArtikelRelatieType, WetgevingArtikelVersie
		WHERE DocumentArtikelRelatieType.Id = DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId
		AND WetgevingArtikelVersie.id = DocumentArtikelRelatie.WetgevingArtikelVersieId
		AND Document.ID = DocumentArtikelRelatie.WetgevingDocumentId
		AND NOT WetgevingArtikelVersie.ArtikelType = 'BIJLAGE'
	"""
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/artikel/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision;
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij (reverse van wijzigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij (reverse van heft op)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij (reverse van bekrachtigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij (reverse van trekt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook (reverse van zie ook (is identiek))
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt (reverse van gewijzigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op (reverse van opgeheven bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt (reverse van bekrachtigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in (reverse van ingetrokken bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	].



#-----------------------------------------
#Onderdeel 1.8: Mappings van de Document -> Bijlage relaties van Rechtsbron(onderdeel)

map:RechtsbronDocumentBijlageRelaties 
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	vwRegelgevendDocDocument.URLpart1,
				vwRegelgevendDocDocument.ID,
				vwRegelgevendDocDocument.datumDocumentJaar,
				vwRegelgevendDocDocument.datumDocumentMaand,
				vwRegelgevendDocDocument.datumDocumentDag,
				vwRegelgevendDocDocument.typeDocumentURI,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 1 THEN WetgevingArtikelVersie.ID END  AS wijzigt,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 2 THEN WetgevingArtikelVersie.ID END  AS heft_op,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 3 THEN WetgevingArtikelVersie.ID END  AS bekrachtigt,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 4 THEN WetgevingArtikelVersie.ID END  AS trekt_in,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 5 THEN WetgevingArtikelVersie.ID END  AS zie_ook,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 6 THEN WetgevingArtikelVersie.ID END  AS gewijzigd_bij,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 7 THEN WetgevingArtikelVersie.ID END  AS opgeheven_bij,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 8 THEN WetgevingArtikelVersie.ID END  AS bekrachtigd_bij,
				CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 9 THEN WetgevingArtikelVersie.ID END  AS ingetrokken_bij
		FROM WetgevingDocumentArtikelVersieRelatie AS DocumentArtikelRelatie, WetgevingDocumentArtikelVersieRelatieType as DocumentArtikelRelatieType, WetgevingArtikelVersie, vwRegelgevendDocDocument WITH ( NOEXPAND )
		WHERE DocumentArtikelRelatieType.Id = DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId
		AND WetgevingArtikelVersie.id = DocumentArtikelRelatie.WetgevingArtikelVersieId
		AND vwRegelgevendDocDocument.ID = DocumentArtikelRelatie.WetgevingDocumentId
		AND WetgevingArtikelVersie.ArtikelType = 'BIJLAGE'
	"""
	];
	rr:subjectMap [
		rr:template '{"URLpart1"}{"typeDocumentURI"}{"datumDocumentJaar"}{"datumDocumentMaand"}{"datumDocumentDag"}/{"ID"}'; 
		rr:class eli:LegalResource; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.8.1: Mappings van de Bijlage -> Document relaties van Rechtsbron(onderdeel) (Reverse mappings uit 1.8)

map:RechtsbronDocumentBijlageRelatiesReverse 
	rr:logicalTable [ rr:sqlQuery """
		SELECT	WetgevingArtikelVersie.ID AS VlacoID,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 1 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS gewijzigd_bij,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 2 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS opgeheven_bij,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 3 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS bekrachtigd_bij,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 4 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS ingetrokken_bij,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 5 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS zie_ook,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 6 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS wijzigt,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 7 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS heft_op,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 8 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS bekrachtigt,
				(CASE WHEN DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId = 9 THEN (CASE ISNULL(Document.Numac,0) WHEN 0 THEN Document.ID ELSE Document.Numac END) END ) AS trekt_in
		FROM WetgevingDocument as Document, WetgevingDocumentArtikelVersieRelatie AS DocumentArtikelRelatie, WetgevingDocumentArtikelVersieRelatieType as DocumentArtikelRelatieType, WetgevingArtikelVersie
		WHERE DocumentArtikelRelatieType.Id = DocumentArtikelRelatie.WetgevingDocumentArtikelVersieRelatieTypeId
		AND WetgevingArtikelVersie.id = DocumentArtikelRelatie.WetgevingArtikelVersieId
		AND Document.ID = DocumentArtikelRelatie.WetgevingDocumentId
		AND WetgevingArtikelVersie.ArtikelType = 'BIJLAGE'
	"""
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/bijlage/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij (reverse van Wijzigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij (reverse van Heft op)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij (reverse van Bekrachtigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij (reverse van Trekt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook (reverse van zie ook)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt (reverse van gewijzigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op (reverse van Opgeheven bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt (reverse van Bekrachtigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in (reverse van Ingetrokken bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.9: Mappings van de Hoofdstuk -> Artikel en Artikel -> Hoofdstuk relaties van Rechtsbrononderdelen

map:RechtsbronHoofdstukArtikelRelatieHeeftOnderdeel
	rr:logicalTable [ rr:sqlQuery """
		SELECT	Hoofdstuk.ID AS HoofdstukID,
				Artikel.ID AS ArtikelID,
				Artikel.WetgevingHoofdstukID AS HoofdstukArtikelID,
				ArtikelVersie.ID AS ArtikelVersieID
		FROM WetgevingHoofdstuk AS Hoofdstuk, WetgevingArtikel AS Artikel, WetgevingArtikelVersie AS ArtikelVersie
		WHERE Artikel.ID = ArtikelVersie.ID
		AND	Hoofdstuk.ID = Artikel.WetgevingHoofdstukID
		AND NOT ArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/hoofdstuk/{"HoofdstukID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:has_part; #heeft onderdeel
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ArtikelVersieID'; #ArtikelVersieID is de VlacoID in RechtsbronArtikel
				rr:parent 'ID';
			]
		]
	].

map:RechtsbronArtikelHoofdstukRelatieIsDeelVan #Reverse van RechtsbronHoofdstukArtikelRelatieHeeftOnderdeel
	rr:logicalTable [ rr:sqlQuery """
		SELECT	Hoofdstuk.ID AS HoofdstukID,
				Artikel.ID AS ArtikelID,
				Artikel.WetgevingHoofdstukID AS HoofdstukArtikelID,
				ArtikelVersie.ID AS ArtikelVersieID
		FROM WetgevingHoofdstuk AS Hoofdstuk, WetgevingArtikel AS Artikel, WetgevingArtikelVersie AS ArtikelVersie
		WHERE Artikel.ID = ArtikelVersie.ID
		AND	Hoofdstuk.ID = Artikel.WetgevingHoofdstukID
		AND NOT ArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/artikel/{"ArtikelVersieID"}'; #ArtikelVersieID is de VlacoID in RechtsbronArtikel 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:is_part_of; #is deel van
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronHoofdstuk; 
			rr:joinCondition [
				rr:child 'HoofdstukID';
				rr:parent 'ID';
			]
		]
	].
	
#-----------------------------------------
#Onderdeel 1.10: Mappings van de Hoofdstuk -> Bijlage en Bijlage -> Hoofdstuk relaties van Rechtsbrononderdelen

map:RechtsbronHoofdstukBijlageRelatieHeeftOnderdeel
	rr:logicalTable [ rr:sqlQuery """
		SELECT	Hoofdstuk.ID AS HoofdstukID,
				Artikel.ID AS ArtikelID,
				Artikel.WetgevingHoofdstukID AS HoofdstukArtikelID,
				ArtikelVersie.ID AS ArtikelVersieID
		FROM WetgevingHoofdstuk AS Hoofdstuk, WetgevingArtikel AS Artikel, WetgevingArtikelVersie AS ArtikelVersie
		WHERE Artikel.ID = ArtikelVersie.ID
		AND	Hoofdstuk.ID = Artikel.WetgevingHoofdstukID
		AND ArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/hoofdstuk/{"HoofdstukID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:has_part; #heeft onderdeel
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'ArtikelVersieID'; #ArtikelVersieID is de VlacoID in RechtsbronArtikel
				rr:parent 'ID';
			]
		]
	].

map:RechtsbronBijlageHoofdstukRelatieIsDeelVan #Reverse van RechtsbronHoofdstukBijlageRelatieHeeftOnderdeel
	rr:logicalTable [ rr:sqlQuery """
		SELECT	Hoofdstuk.ID AS HoofdstukID,
				Artikel.ID AS ArtikelID,
				Artikel.WetgevingHoofdstukID AS HoofdstukArtikelID,
				ArtikelVersie.ID AS ArtikelVersieID
		FROM WetgevingHoofdstuk AS Hoofdstuk, WetgevingArtikel AS Artikel, WetgevingArtikelVersie AS ArtikelVersie
		WHERE Artikel.ID = ArtikelVersie.ID
		AND	Hoofdstuk.ID = Artikel.WetgevingHoofdstukID
		AND ArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/Bijlage/{"ArtikelVersieID"}'; #ArtikelVersieID is de VlacoID in RechtsbronArtikel 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:is_part_of; #is deel van
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronHoofdstuk; 
			rr:joinCondition [
				rr:child 'HoofdstukID';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.11: Mappings van de Artikel -> Artikel relaties van Rechtsbrononderdelen

map:RechtsbronArtikelArtikelRelaties
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	ArtikelVersie1.id AS VlacoID,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 1 THEN ArtikelVersie2.ID END ) AS gewijzigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 2 THEN ArtikelVersie2.ID END ) AS vervangen_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 3 THEN ArtikelVersie2.ID END ) AS ingevoegd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 4 THEN ArtikelVersie2.ID END ) AS opgeheven_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 5 THEN ArtikelVersie2.ID END ) AS ingetrokken_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 6 THEN ArtikelVersie2.ID END ) AS bekrachtigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 7 THEN ArtikelVersie2.ID END ) AS zie_ook,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 8 THEN ArtikelVersie2.ID END ) AS wijzigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 9 THEN ArtikelVersie2.ID END ) AS vervangt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 10 THEN ArtikelVersie2.ID END ) AS voegt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 11 THEN ArtikelVersie2.ID END ) AS heft_op,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 12 THEN ArtikelVersie2.ID END ) AS bekrachtigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 13 THEN ArtikelVersie2.ID END ) AS trekt_in
		FROM WetgevingArtikelVersieArtikelVersieRelatie AS ArtikelArtikelRelatie, WetgevingArtikelVersieArtikelVersieRelatieType as ArtikelArtikelRelatieType, WetgevingArtikelVersie as ArtikelVersie1, WetgevingArtikelVersie as ArtikelVersie2
		WHERE ArtikelArtikelRelatieType.Id = ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId
		AND ArtikelVersie1.id = ArtikelArtikelRelatie.WetgevingArtikelVersieActiefId
		AND ArtikelVersie2.id = ArtikelArtikelRelatie.WetgevingArtikelVersiePassiefId
		AND NOT ArtikelVersie1.ArtikelType = 'BIJLAGE'
		AND NOT ArtikelVersie2.ArtikelType = 'BIJLAGE'
	"""
	]; 
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/artikel/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Vervangen bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangen_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Ingevoegd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingevoegd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Vervangt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Voegt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'voegt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.11.1: Reverse mappings uit 1.11

map:RechtsbronArtikelArtikelRelatiesReverse
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	ArtikelVersie2.id AS VlacoID,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 1 THEN ArtikelVersie1.ID END ) AS wijzigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 2 THEN ArtikelVersie1.ID END ) AS vervangt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 3 THEN ArtikelVersie1.ID END ) AS voegt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 4 THEN ArtikelVersie1.ID END ) AS heft_op,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 5 THEN ArtikelVersie1.ID END ) AS trekt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 6 THEN ArtikelVersie1.ID END ) AS bekrachtigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 7 THEN ArtikelVersie1.ID END ) AS zie_ook,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 8 THEN ArtikelVersie1.ID END ) AS gewijzigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 9 THEN ArtikelVersie1.ID END ) AS vervangen_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 10 THEN ArtikelVersie1.ID END ) AS ingevoegd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 11 THEN ArtikelVersie1.ID END ) AS opgeheven_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 12 THEN ArtikelVersie1.ID END ) AS bekrachtigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 13 THEN ArtikelVersie1.ID END ) AS ingetrokken_bij
		FROM WetgevingArtikelVersieArtikelVersieRelatie AS ArtikelArtikelRelatie, WetgevingArtikelVersieArtikelVersieRelatieType as ArtikelArtikelRelatieType, WetgevingArtikelVersie as ArtikelVersie1, WetgevingArtikelVersie as ArtikelVersie2
		WHERE ArtikelArtikelRelatieType.Id = ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId
		AND ArtikelVersie1.id = ArtikelArtikelRelatie.WetgevingArtikelVersieActiefId
		AND ArtikelVersie2.id = ArtikelArtikelRelatie.WetgevingArtikelVersiePassiefId
		AND NOT ArtikelVersie1.ArtikelType = 'BIJLAGE'
		AND NOT ArtikelVersie2.ArtikelType = 'BIJLAGE'
	"""
	]; 
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/artikel/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt (reverse van gewijzigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Vervangt (reverse van Vervangen bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Voegt in (reverse van Ingevoegd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'voegt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op (reverse van Opgeheven bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in (reverse van Ingetrokken bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt (reverse van Bekrachtigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook (reverse van zie ook)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij (reverse van Wijzigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Vervangen bij (reverse van Vervangt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangen_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Ingevoegd bij (reverse van Voegt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingevoegd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij (reverse van Heft op)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij (reverse van Bekrachtigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij (reverse van Trekt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.12: Mappings van de Artikel -> Bijlage relaties van Rechtsbron(onderdeel)

map:RechtsbronArtikelBijlageRelaties 
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	ArtikelVersie1.id AS VlacoID,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 1 THEN ArtikelVersie2.ID END ) AS gewijzigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 2 THEN ArtikelVersie2.ID END ) AS vervangen_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 3 THEN ArtikelVersie2.ID END ) AS ingevoegd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 4 THEN ArtikelVersie2.ID END ) AS opgeheven_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 5 THEN ArtikelVersie2.ID END ) AS ingetrokken_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 6 THEN ArtikelVersie2.ID END ) AS bekrachtigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 7 THEN ArtikelVersie2.ID END ) AS zie_ook,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 8 THEN ArtikelVersie2.ID END ) AS wijzigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 9 THEN ArtikelVersie2.ID END ) AS vervangt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 10 THEN ArtikelVersie2.ID END ) AS voegt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 11 THEN ArtikelVersie2.ID END ) AS heft_op,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 12 THEN ArtikelVersie2.ID END ) AS bekrachtigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 13 THEN ArtikelVersie2.ID END ) AS trekt_in
		FROM WetgevingArtikelVersieArtikelVersieRelatie AS ArtikelArtikelRelatie, WetgevingArtikelVersieArtikelVersieRelatieType as ArtikelArtikelRelatieType, WetgevingArtikelVersie as ArtikelVersie1, WetgevingArtikelVersie as ArtikelVersie2
		WHERE ArtikelArtikelRelatieType.Id = ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId
		AND ArtikelVersie1.id = ArtikelArtikelRelatie.WetgevingArtikelVersieActiefId
		AND ArtikelVersie2.id = ArtikelArtikelRelatie.WetgevingArtikelVersiePassiefId
		AND NOT ArtikelVersie1.ArtikelType = 'BIJLAGE'
		AND ArtikelVersie2.ArtikelType = 'BIJLAGE'
	"""
	]; 
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/artikel/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Vervangen bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'vervangen_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Ingevoegd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'ingevoegd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Vervangt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'vervangt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Voegt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'voegt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.12.1: Mappings van de Bijlage -> Artikel relaties van Rechtsbron(onderdeel) (Reverse mappings uit 1.12)

map:RechtsbronArtikelBijlageRelatiesReverse 
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	ArtikelVersie2.id AS VlacoID,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 1 THEN ArtikelVersie1.ID END ) AS wijzigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 2 THEN ArtikelVersie1.ID END ) AS vervangt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 3 THEN ArtikelVersie1.ID END ) AS voegt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 4 THEN ArtikelVersie1.ID END ) AS heft_op,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 5 THEN ArtikelVersie1.ID END ) AS trekt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 6 THEN ArtikelVersie1.ID END ) AS bekrachtigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 7 THEN ArtikelVersie1.ID END ) AS zie_ook,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 8 THEN ArtikelVersie1.ID END ) AS gewijzigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 9 THEN ArtikelVersie1.ID END ) AS vervangen_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 10 THEN ArtikelVersie1.ID END ) AS ingevoegd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 11 THEN ArtikelVersie1.ID END ) AS opgeheven_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 12 THEN ArtikelVersie1.ID END ) AS bekrachtigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 13 THEN ArtikelVersie1.ID END ) AS ingetrokken_bij
		FROM WetgevingArtikelVersieArtikelVersieRelatie AS ArtikelArtikelRelatie, WetgevingArtikelVersieArtikelVersieRelatieType as ArtikelArtikelRelatieType, WetgevingArtikelVersie as ArtikelVersie1, WetgevingArtikelVersie as ArtikelVersie2
		WHERE ArtikelArtikelRelatieType.Id = ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId
		AND ArtikelVersie1.id = ArtikelArtikelRelatie.WetgevingArtikelVersieActiefId
		AND ArtikelVersie2.id = ArtikelArtikelRelatie.WetgevingArtikelVersiePassiefId
		AND NOT ArtikelVersie1.ArtikelType = 'BIJLAGE'
		AND ArtikelVersie2.ArtikelType = 'BIJLAGE'
	"""
	]; 
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/bijlage/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt (reverse van gewijzigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Vervangt (reverse van Vervangen bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Voegt in (reverse van Ingevoegd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'voegt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op (reverse van Opgeheven bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in (reverse van Ingetrokken bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt (reverse van Bekrachtigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook (reverse van zie ook)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij (reverse van Wijzigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Vervangen bij (reverse van Vervangt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangen_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Ingevoegd bij (reverse van Voegt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingevoegd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij (reverse van Heft op)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij (reverse van Bekrachtigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij (reverse van Trekt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.13: Mappings van de Bijlage -> Bijlage relaties van Rechtsbron(onderdeel)

map:RechtsbronBijlageBijlageRelaties
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	ArtikelVersie1.id AS VlacoID,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 1 THEN ArtikelVersie2.ID END ) AS gewijzigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 2 THEN ArtikelVersie2.ID END ) AS vervangen_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 3 THEN ArtikelVersie2.ID END ) AS ingevoegd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 4 THEN ArtikelVersie2.ID END ) AS opgeheven_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 5 THEN ArtikelVersie2.ID END ) AS ingetrokken_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 6 THEN ArtikelVersie2.ID END ) AS bekrachtigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 7 THEN ArtikelVersie2.ID END ) AS zie_ook,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 8 THEN ArtikelVersie2.ID END ) AS wijzigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 9 THEN ArtikelVersie2.ID END ) AS vervangt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 10 THEN ArtikelVersie2.ID END ) AS voegt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 11 THEN ArtikelVersie2.ID END ) AS heft_op,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 12 THEN ArtikelVersie2.ID END ) AS bekrachtigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 13 THEN ArtikelVersie2.ID END ) AS trekt_in
		FROM WetgevingArtikelVersieArtikelVersieRelatie AS ArtikelArtikelRelatie, WetgevingArtikelVersieArtikelVersieRelatieType as ArtikelArtikelRelatieType, WetgevingArtikelVersie as ArtikelVersie1, WetgevingArtikelVersie as ArtikelVersie2
		WHERE ArtikelArtikelRelatieType.Id = ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId
		AND ArtikelVersie1.id = ArtikelArtikelRelatie.WetgevingArtikelVersieActiefId
		AND ArtikelVersie2.id = ArtikelArtikelRelatie.WetgevingArtikelVersiePassiefId
		AND ArtikelVersie1.ArtikelType = 'BIJLAGE'
		AND ArtikelVersie2.ArtikelType = 'BIJLAGE'
	"""
	]; 
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/bijlage/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'gewijzigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Vervangen bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangen_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Ingevoegd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingevoegd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Vervangt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Voegt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'voegt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	].

#-----------------------------------------
#Onderdeel 1.13.1: Reverse mappings uit 1.13

map:RechtsbronBijlageBijlageRelatiesReverse
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	ArtikelVersie2.id AS VlacoID,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 1 THEN ArtikelVersie1.ID END ) AS wijzigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 2 THEN ArtikelVersie1.ID END ) AS vervangt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 3 THEN ArtikelVersie1.ID END ) AS voegt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 4 THEN ArtikelVersie1.ID END ) AS heft_op,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 5 THEN ArtikelVersie1.ID END ) AS trekt_in,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 6 THEN ArtikelVersie1.ID END ) AS bekrachtigt,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 7 THEN ArtikelVersie1.ID END ) AS zie_ook,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 8 THEN ArtikelVersie1.ID END ) AS gewijzigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 9 THEN ArtikelVersie1.ID END ) AS vervangen_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 10 THEN ArtikelVersie1.ID END ) AS ingevoegd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 11 THEN ArtikelVersie1.ID END ) AS opgeheven_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 12 THEN ArtikelVersie1.ID END ) AS bekrachtigd_bij,
				(CASE WHEN ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId = 13 THEN ArtikelVersie1.ID END ) AS ingetrokken_bij
		FROM WetgevingArtikelVersieArtikelVersieRelatie AS ArtikelArtikelRelatie, WetgevingArtikelVersieArtikelVersieRelatieType as ArtikelArtikelRelatieType, WetgevingArtikelVersie as ArtikelVersie1, WetgevingArtikelVersie as ArtikelVersie2
		WHERE ArtikelArtikelRelatieType.Id = ArtikelArtikelRelatie.WetgevingArtikelVersieArtikelVersieRelatieTypeId
		AND ArtikelVersie1.id = ArtikelArtikelRelatie.WetgevingArtikelVersieActiefId
		AND ArtikelVersie2.id = ArtikelArtikelRelatie.WetgevingArtikelVersiePassiefId
		AND ArtikelVersie1.ArtikelType = 'BIJLAGE'
		AND ArtikelVersie2.ArtikelType = 'BIJLAGE'
	"""
	]; 
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/id/bijlage/{"VlacoID"}'; 
		rr:class eli:LegalResourceSubdivision; 
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Wijzigt (reverse van gewijzigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'wijzigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Vervangt (reverse van Vervangen bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amends; #Voegt in (reverse van Ingevoegd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'voegt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Heft op (reverse van Opgeheven bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'heft_op';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repeals; #Trekt in (reverse van Ingetrokken bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'trekt_in';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigt; #Bekrachtigt (reverse van Bekrachtigd bij)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigt';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:related_to; #zie ook (reverse van zie ook)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'zie_ook';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Gewijzigd bij (reverse van Wijzigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'gewijzigd_door';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Vervangen bij (reverse van Vervangt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'vervangen_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:amended_by; #Ingevoegd bij (reverse van Voegt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingevoegd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Opgeheven bij (reverse van Heft op)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'opgeheven_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate codex:bekrachtigd_bij; #Bekrachtigd bij (reverse van Bekrachtigt)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'bekrachtigd_bij';
				rr:parent 'ID';
			]
		]
	];
	rr:predicateObjectMap [
		rr:predicate eli:repealed_by; #Ingetrokken bij (reverse van Trekt in)
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'ingetrokken_bij';
				rr:parent 'ID';
			]
		]
	].



#-----------------------------------------
#Onderdeel 2: Mapping van Verschijningsvorm
#Onderdeel 2.1: Mappings van VerschijningsvormDocument met attributen

map:VerschijningsvormDocument
	rr:logicalTable [rr:sqlQuery """
		SELECT	id AS VlacoID,
				ISNULL(Commentaar, '') AS commentaar,
				CONVERT(date, BSDatum) AS publicatiedatum,
				Opschrift AS opschrift,
				(CASE 
					WHEN CONVERT(date, StartDatum) in (CONVERT(date, '01/01/2100'), CONVERT(date, '01/01/2900'), CONVERT(date, '01/01/3000')) THEN  null
					ELSE CONVERT(date, StartDatum) 
				END) AS inwerkingtreding,
				(CASE 
					WHEN CONVERT(date, EindDatum) in (CONVERT(date, '01/01/2100'), CONVERT(date, '01/01/2900'), CONVERT(date, '01/01/3000')) THEN  null
					ELSE CONVERT(date, EindDatum) 
				END) AS buitenwerkingtreding,
				'nl' AS taal
		FROM WetgevingDocument
	"""];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/doc/document/{"VlacoID"}';
		rr:class eli:LegalExpression; 
	];
	rr:predicateObjectMap [ 
		rr:predicate dcterms:description; 
		rr:objectMap [rr:column '"commentaar"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:date_publication; 
		rr:objectMap [rr:column '"publicatiedatum"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:first_date_entry_in_force; 
		rr:objectMap [rr:column '"inwerkingtreding"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:date_no_longer_in_force; 
		rr:objectMap [rr:column '"buitenwerkingtreding"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:id_local; 
		rr:objectMap [
			rr:parentTriplesMap map:VerschijningsvormDocumentLocalID; 
			rr:joinCondition [
				rr:child 'VlacoID';
				rr:parent 'id';
			]
		]
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:title; 
		rr:objectMap [rr:column '"opschrift"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:language; 
		rr:objectMap [rr:column '"taal"'];
	];	
	rr:predicateObjectMap [
		rr:predicate eli:realizes; #realiseert
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronDocument; 
			rr:joinCondition [
				rr:child 'VlacoID';
				rr:parent 'id';
			]
		]
	].

map:VerschijningsvormDocumentLocalID
	rr:logicalTable [rr:sqlQuery """
		SELECT	id AS id
		FROM WetgevingDocument
	"""];
	rr:subjectMap [
		rr:template 'Document{"id"}';
		rr:class adms:Identifier; 
	];
	rr:predicateObjectMap [ 
		rr:predicate skos:notation; 
		rr:objectMap [
			rr:column '"id"';
			rr:termType rr:Literal; 
		];
	];
	rr:predicateObjectMap [ 
		rr:predicate dcterms:creator; 
		rr:objectMap [
			rr:template 'https://data.vlaanderen.be/id/organisatie/OVO003155';
			rr:termType rr:IRI; 
		];
	].

map:VerschijningsvormDocumentTrefwoord
	rr:logicalTable [ rr:sqlQuery """
		(
		SELECT
			Document.WetgevingDocumentId as VlacoID,
			Trefwoord.Id as TrefwoordID,
			Trefwoord.Naam as TrefwoordNaam
		FROM
			WetgevingDocument_Trefwoord AS Document
			INNER JOIN Trefwoord ON Document.Id = Trefwoord.Id
		)
		UNION
		(
		SELECT
			WetgevingDocument_Trefwoord.WetgevingDocumentId as VlacoID,
			TrefwoordSynoniem.Trefwoord2Id as TrefwoordID,
			Trefwoord.Naam as TrefwoordNaam
		FROM
			TrefwoordSynoniem
			INNER JOIN Trefwoord ON TrefwoordSynoniem.Trefwoord2Id = Trefwoord.Id
			INNER JOIN WetgevingDocument_Trefwoord ON TrefwoordSynoniem.Trefwoord1Id = WetgevingDocument_Trefwoord.TrefwoordID
		);
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/doc/document/{"VlacoID"}';
		rr:class eli:LegalExpression; 
	];
	rr:predicateObjectMap [ 
		rr:predicate dcterms:subject; 
		rr:objectMap [rr:column '"TrefwoordNaam"'];
	].

map:VerschijningsvormDocumentThema
	rr:logicalTable [ rr:sqlQuery """
		SELECT	Document.id AS VlacoID,
				Thema.Omschrijving AS thema
		FROM WetgevingDocument AS Document, WetgevingDocument_Thema AS DocumentThema, Thema
		WHERE Document.Id = DocumentThema.WetgevingDocumentId 
		AND DocumentThema.ThemaId = Thema.Id
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/doc/document/{"VlacoID"}';
		rr:class eli:LegalExpression; 
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:is_about; 
		rr:objectMap [rr:column '"thema"'];
	].


#-----------------------------------------
#Onderdeel 2.2: Mapping van VerschijningsvormHoofdstuk

map:VerschijningsvormHoofdstuk
	rr:logicalTable [ rr:sqlQuery """
		SELECT	Hoofdstuk.ID AS HoofdstukID
		FROM WetgevingHoofdstuk as Hoofdstuk
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/doc/hoofdstuk/{"HoofdstukID"}'; 
		rr:class eli:LegalExpression;
	];
	rr:predicateObjectMap [
		rr:predicate eli:realizes; #realiseert
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronHoofdstuk; 
			rr:joinCondition [
				rr:child 'HoofdstukID';
				rr:parent 'ID';
				]
		]
	].

#-----------------------------------------
#Onderdeel 2.3: Mapping van VerschijningsvormArtikel

map:VerschijningsvormArtikel
	rr:logicalTable [ rr:sqlQuery """
		SELECT 	id AS VlacoID,
				(CASE 
					WHEN CONVERT(date, StartDatum) in (CONVERT(date, '01/01/2100'), CONVERT(date, '01/01/2900'), CONVERT(date, '01/01/3000')) THEN  null
					ELSE CONVERT(date, StartDatum) 
				END) AS inwerkingtreding,
				(CASE 
					WHEN CONVERT(date, EindDatum) in (CONVERT(date, '01/01/2100'), CONVERT(date, '01/01/2900'), CONVERT(date, '01/01/3000')) THEN  null
					ELSE CONVERT(date, EindDatum) 
				END) AS buitenwerkingtreding,
				CONCAT('Artikel ', WetgevingArtikelVersie.ArtikelNummer) AS nummer,
				Tekst AS inhoud
		FROM WetgevingArtikelVersie
		WHERE NOT WetgevingArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/doc/artikel/{"VlacoID"}';
		rr:class eli:LegalExpression; 
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:number; 
		rr:objectMap [rr:column '"nummer"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:first_date_entry_in_force; 
		rr:objectMap [rr:column '"inwerkingtreding"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:date_no_longer_in_force; 
		rr:objectMap [rr:column '"buitenwerkingtreding"'];
	];
	rr:predicateObjectMap [
		rr:predicate eli:realizes; #realiseert
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronArtikel; 
			rr:joinCondition [
				rr:child 'VlacoID';
				rr:parent 'ID';
				]
		]
	];
	rr:predicateObjectMap [ 
		rr:predicate prov:value; 
		rr:objectMap [rr:column '"inhoud"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:id_local; 
		rr:objectMap [
			rr:parentTriplesMap map:VerschijningsvormArtikelLocalID; 
			rr:joinCondition [
				rr:child 'VlacoID';
				rr:parent 'id';
			]
		]
	].

map:VerschijningsvormArtikelLocalID
	rr:logicalTable [rr:sqlQuery """
		SELECT	id AS id
		FROM WetgevingArtikelVersie
	"""];
	rr:subjectMap [
		rr:template 'Artikel{"id"}';
		rr:class adms:Identifier; 
	];
	rr:predicateObjectMap [ 
		rr:predicate skos:notation; 
		rr:objectMap [
			rr:column '"id"';
			rr:termType rr:Literal; 
		];
	];
	rr:predicateObjectMap [ 
		rr:predicate dcterms:creator; 
		rr:objectMap [
			rr:template 'https://data.vlaanderen.be/id/organisatie/OVO003155';
			rr:termType rr:IRI; 
		];
	].

#-----------------------------------------
#Onderdeel 2.4: Mapping van VerschijningsvormBijlage

map:VerschijningsvormBijlage
	rr:logicalTable [ rr:sqlQuery """
		SELECT id AS VlacoID,
				(CASE 
					WHEN CONVERT(date, StartDatum) in (CONVERT(date, '01/01/2100'), CONVERT(date, '01/01/2900'), CONVERT(date, '01/01/3000')) THEN  null
					ELSE CONVERT(date, StartDatum) 
				END) AS inwerkingtreding,
				(CASE 
					WHEN CONVERT(date, EindDatum) in (CONVERT(date, '01/01/2100'), CONVERT(date, '01/01/2900'), CONVERT(date, '01/01/3000')) THEN  null
					ELSE CONVERT(date, EindDatum) 
				END) AS buitenwerkingtreding,
				CONCAT('Bijlage ', WetgevingArtikelVersie.ArtikelNummer) AS nummer,
				Tekst AS inhoud
		FROM WetgevingArtikelVersie
		WHERE WetgevingArtikelVersie.ArtikelType = 'BIJLAGE'
	""" 
	];
	rr:subjectMap [
		rr:template 'https://codex.vlaanderen.be/doc/bijlage/{"VlacoID"}';
		rr:class eli:LegalExpression; 
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:number; 
		rr:objectMap [rr:column '"nummer"'];
	];
	rr:predicateObjectMap [
		rr:predicate eli:realizes; #realiseert
		rr:objectMap [
			rr:parentTriplesMap map:RechtsbronBijlage; 
			rr:joinCondition [
				rr:child 'VlacoID';
				rr:parent 'ID';
				]
		]
	];
	rr:predicateObjectMap [ 
		rr:predicate prov:value; 
		rr:objectMap [rr:column '"inhoud"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:first_date_entry_in_force; 
		rr:objectMap [rr:column '"inwerkingtreding"'];
	];
	rr:predicateObjectMap [ 
		rr:predicate eli:date_no_longer_in_force; 
		rr:objectMap [rr:column '"buitenwerkingtreding"'];
	].